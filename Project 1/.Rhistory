base_august= (january_median - august_median)/august_median *100) %>%
arrange(desc(base_august)) %>%
head(5)
print(Pct_change2)
#Answer: Of the 33 hospitals, the five with the highest increasing waittimes were Upper Chesapeake (at 819.5%), MedStar Good Samaritan (at 524%), Carroll (at 401%), UM Shore Easton (at 371.5%) and Sinai (at 359%).
Pct_change2 <- ED1a %>%
select(abbreviated_name, june_median, august_median, january_median, change_from_base_month_to_latest_improvement) %>%
arrange(desc(change_from_base_month_to_latest_improvement))
#Answer: 33 hospitals have increasing waittimes since their base month.
Pct_change2 <- ED1a %>%
select(abbreviated_name, june_median, august_median, january_median, change_from_base_month_to_latest_improvement) %>%
mutate(base_june = (january_median - june_median)/june_median *100,
base_august= (january_median - august_median)/august_median *100) %>%
arrange(desc(base_august)) %>%
head(5)
print(Pct_change2)
#Answer: Of the 33 hospitals, the five with the highest increasing wait times were Upper Chesapeake (at 136.6%), MedStar Good Samaritan (at 84.9%), Carroll (at 76.3%), Union ChristianaCare (at 62.6%) and Holy Cross Germantown (at 60.5%).
library(tidyverse)
SF <- read_csv("SF_311.csv")
#This cleans column names
SF <- janitor::clean_names(SF)
#This processes dates for analysis
SF$call_date2 <- as.Date(SF$call_date)
SF$call_date2 <- lubridate::mdy(SF$call_date)
#This creates a new column for year
SF$year <- lubridate::year(SF$call_date2)
glimpse(SF)
years <- SF %>%
count(year) %>%
group_by(year)
years
years %>%
ggplot() +
geom_bar(aes(x=year, weight=n))
years %>%
ggplot() +
geom_bar(aes(x=reorder(year, n), weight=n))
years %>%
ggplot() +
geom_bar(aes(x=reorder(year, n), weight=n)) +
coord_flip()
years %>%
ggplot() +
geom_bar(aes(x=reorder(year, n), weight=n)) +
coord_flip() +
theme_minimal()
install.packages('ggthemes')
library(ggthemes)
years %>%
ggplot() +
geom_bar(aes(x=reorder(year, n), weight=n)) +
coord_flip() +
theme_minimal() +
theme_economist()
View(ED1)
View(ED1a)
#Hospital with longest wait time in January
ED1a %>%
select(january_median) %>%
arrange(january_median)
#Hospital with longest wait time in January
ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
#Hospital with longest wait time in January
ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#Hospital with longest wait time in January
Longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
View(Longest)
#Hospital with longest wait time in January
Longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
Longest %>%
filter("UM Eastern Shore")
#Hospital with longest wait time in January
Longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
Longest %>%
filter(january_median >= "1770.5")
#Hospital with longest wait time in January
Longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
Longest %>%
filter(january_median == "1770.5")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest <- longest %>%
filter(january_median == "1770.5")
View(longest)
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5")
View(longest_graph)
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5")
ggplot() +
geom_bar(aes(x="UM Eastern Shore", y=n,weight=n)) +
coord_flip() +
theme_minimal() +
theme_economist() +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
ggplot() +
geom_bar(aes(x="UM Eastern Shore", y=median, y=n, weight=n)) +
coord_flip() +
theme_minimal() +
theme_economist() +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
t() %>%
arrange(desc(january_median))
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
t()
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5")
ggplot() +
geom_bar(aes(x="UM Eastern Shore", y=median, y=n, weight=n)) +
coord_flip() +
theme_minimal() +
theme_economist() +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
View(longest)
View(Longest)
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5") %>%
t()
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5") %>%
t() %>%
ggplot() +
geom_bar(aes(x="V1", y=median, y=n, weight=n)) +
coord_flip() +
theme_minimal() +
theme_economist() +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5") %>%
t() %>%
ggplot() +
geom_bar(aes(x="V1", y=median, y=n, weight=n)) +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
names(longest_graph)
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5") %>%
group_by(V1, skip =1) %>%
t()
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5") %>%
group_by("V1", skip =1) %>%
t()
longest_graph %>%
group_by("V1", skip =1) %>%
ggplot(aes(x="V1", y=n, weight=n, fill=n)) +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
longest_graph %>%
ggplot(aes(x="V1", y=n, weight=n, fill=n)) +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
longest_graph2 <- as.data.frame(longest_graph)
longest_graph2 %>%
ggplot(aes(x="V1", y=n, weight=n, fill=n)) +
labs(
title="Median by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- ED1a %>%
select(abbreviated_name, june_median, july_median, august_median, september_median, october_median, november_median, december_median, january_median) %>%
filter(january_median == "1770.5")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
names(longest_graph)
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=n)) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=median)) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=count), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
shortest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
shortest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
print(shortest)
#Hospital with shortest wait time in January
shortest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
print(shortest)
#In January, Atlantic General had the longest wait time at 193 minutes
shortest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="AG")
shortest_graph <- clean_names(shortest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with shortest wait time in January
shortest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
print(shortest)
#In January, Atlantic General had the longest wait time at 193 minutes
shortest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="AG")
shortest_graph <- clean_names(shortest_graph)
shortest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for Atlanetic General",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#A - Load libraries
library(tidyverse)
library(rio)
library(janitor)
#B - Import the data
ED1a <- rio::import("EDDIE January FINAL.xlsx", sheet="ED1a")
ED1a <- clean_names(ED1a)
#C -  Background infromation
#In June, the Maryland Hospitals Association established EDDIE, the Emergency Department Dramatic Improvements Effort, to address hospital wait times in the state. By having each hospital set objectives for lowering emergency department wait times and discharges, EDDIE aims to put Maryland hospitals back on target with the rest of the country. Now, the state has one of the highest average wait times in the country. EDDIE has been collecting monthly data on each Maryland hospital’s average wait times, and I have that data from July through January, provided by a request to the Maryland Hospital Association.
#The data provided by the MHA is fairly large and consists of numerous variables.
#In the file, the following sheets are available: EDDIE All Data, ED1a, ED1b, ED1c, OP18a, OP18b, OP18c, ED1a Volume, ED1b Volume, ED1c Volume, OP18a Volume, OP18b Volume, OP18c Volune
#The Volume sheets refer to the volume of visiors to the hospital.
#ED1 refers to emergency department "arrival to inpatient admission time" and OP refers outpatients who are discharged into the community for "outpatient ED arrival to discharge time" according to Damiara Smith, a quality fellow for the MHA cost review commission.
#ED1b/OP18b refer to non-psych patients, while ED1c/OP18c refer to psychiatric patients.
#ED1a/OP18a refer to all patients.
#For this project, I have chosen to analyze the ED1a columns to measure hospital patient arrival to emergency department admission on a general basis for all patients, as opposed to psych or non-psych.
#D - Add research questions here
#1. What hospitals in Maryland are seeing the most and least improvement?
#1a. Which 5 hospitals had the lowest percent change since base month?
#1b. How many hospitals have had increasing wait times from their base month to January? Which 5 have had the biggest increases?
#2. What does each hospital's month over month look like?
#3. Are there any patterns between urban and rural hospitals? What factors affect wait times in each of these areas? (Doing at a later date)
Pct_change <- ED1a %>%
select(abbreviated_name, june_median, august_median, january_median, change_from_base_month_to_latest_improvement) %>%
arrange(change_from_base_month_to_latest_improvement)
Pct_change <- Pct_change %>%
select(abbreviated_name, june_median, august_median, january_median, change_from_base_month_to_latest_improvement) %>%
mutate(base_june = (january_median - june_median)/june_median *100,
base_august= (january_median - august_median)/august_median *100)
#Note for future to set condition to use August only if there isn't a June
Pct_change_top5 <- Pct_change %>%
arrange(base_august) %>%
head(5)
print(Pct_change_top5)
#Answer: White Oak (at -427.8%), UMMC Midtwon (at -15.4), Mercy (at -14.4%,), Atlantic General (at -12.7%) and Shady Grove (at -10.5%) had the lowest percent change, and thus the biggest decreases in hospital wait times since their base month.
Pct_change2 <- ED1a %>%
select(abbreviated_name, june_median, august_median, january_median, change_from_base_month_to_latest_improvement) %>%
arrange(desc(change_from_base_month_to_latest_improvement))
#Answer: 33 hospitals have increasing waittimes since their base month.
Pct_change2 <- ED1a %>%
select(abbreviated_name, june_median, august_median, january_median, change_from_base_month_to_latest_improvement) %>%
mutate(base_june = (january_median - june_median)/june_median *100,
base_august= (january_median - august_median)/august_median *100) %>%
arrange(desc(base_august)) %>%
head(5)
print(Pct_change2)
#Answer: Of the 33 hospitals, the five with the highest increasing wait times were Upper Chesapeake (at 136.6%), MedStar Good Samaritan (at 84.9%), Carroll (at 76.3%), Union ChristianaCare (at 62.6%) and Holy Cross Germantown (at 60.5%).
#Statewide
#They only gave me statewide median but not per month, so I will need to request that. Currentl, the statewide meadian is 526 minutes, which is up 125 minutes since June.
#Hospital with longest wait time in January
longest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(desc(january_median))
#In January, University of Maryland Shore Eastern had the longest wait time at 1770.5 minutes
longest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="UMES")
longest_graph <- clean_names(longest_graph)
longest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for UM Shore Eastern",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Note to Professor Wells- I know that I shouldn't have made a new sheet "UMES" to upload. I originally filtered "longest" for when january == 1770.5 in order to only have that row. Then I did t() to flip it and have the data in an (x,y) table format to make into a graph. But the issue was that my y column didn't have a label so I couldn't code y in ggplot at a blank. So I went into excel and made an x,y table from the data and then uploaded it. If you can help me correct this, that would be great. I still figured out how to get the answer, but I know that there is probably a better way.
#Hospital with shortest wait time in January
shortest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
print(shortest)
#In January, Atlantic General had the longest wait time at 193 minutes
shortest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="AG")
shortest_graph <- clean_names(shortest_graph)
shortest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for Atlanetic General",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
#Hospital with shortest wait time in January
shortest <- ED1a %>%
select(abbreviated_name, january_median) %>%
arrange(january_median)
print(shortest)
#In January, Atlantic General had the longest wait time at 193 minutes
shortest_graph <- rio::import("EDDIE January FINAL.xlsx", sheet="AG")
shortest_graph <- clean_names(shortest_graph)
shortest_graph %>%
ggplot(aes(x=month, y=median, weight=median, fill=month)) +
geom_col()+
geom_text(aes(label=median), vjust = -1, size = 2.5) +
labs(
title="Median Time (in minutes) by Month for Atlantic General",
x = "month",
y = "median",
caption = "source: Maryland Hospital Association Cost Review Commisssion")
